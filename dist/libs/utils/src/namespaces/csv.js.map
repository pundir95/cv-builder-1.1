{"version":3,"sources":["../../../../../libs/utils/src/namespaces/csv.ts"],"sourcesContent":["import Papa from \"papaparse\";\r\n\r\nimport type { Json } from \"./types\";\r\n\r\nexport const parseCSV = async (string: string) => {\r\n  return new Promise<Json[]>((resolve, reject) => {\r\n    Papa.parse(string, {\r\n      header: true,\r\n      skipEmptyLines: true,\r\n      complete: (results) => {\r\n        resolve(results.data as Json[]);\r\n      },\r\n      error: (error: Error) => {\r\n        reject(error);\r\n      },\r\n    });\r\n  });\r\n};\r\n\r\n/**\r\n * Parser for cases when we receive an array like structure f.e. in the LinkedIn Profile.csv import\r\n * @param csvEntry array-like entry such as [TAG:https://some.link,TAG:https://someother.link]\r\n * @returns\r\n */\r\nexport const parseArrayLikeCSVEntry = (csvEntry: string) =>\r\n  csvEntry.replace(/^\\[/, \"\").replace(/$]/, \"\").split(\",\");\r\n"],"names":["parseArrayLikeCSVEntry","parseCSV","string","Promise","resolve","reject","Papa","parse","header","skipEmptyLines","complete","results","data","error","csvEntry","replace","split"],"mappings":";;;;;;;;;;;IAwBaA,sBAAsB;eAAtBA;;IApBAC,QAAQ;eAARA;;;;oEAJI;AAIV,MAAMA,WAAW,OAAOC;IAC7B,OAAO,IAAIC,QAAgB,CAACC,SAASC;QACnCC,kBAAI,CAACC,KAAK,CAACL,QAAQ;YACjBM,QAAQ;YACRC,gBAAgB;YAChBC,UAAU,CAACC;gBACTP,QAAQO,QAAQC,IAAI;YACtB;YACAC,OAAO,CAACA;gBACNR,OAAOQ;YACT;QACF;IACF;AACF;AAOO,MAAMb,yBAAyB,CAACc,WACrCA,SAASC,OAAO,CAAC,OAAO,IAAIA,OAAO,CAAC,MAAM,IAAIC,KAAK,CAAC"}